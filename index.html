<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yacht Shiniblood – Royaume des Élus de l’Ombre</title>
  <!-- Polices & icônes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Marcellus+SC&display=swap" rel="stylesheet" />

  <style>
    :root {
      --noir-velours: rgba(10, 10, 10, 0.7); /* Plus transparent */
      --doré-royal: #D4AF37;
      --doré-clair: #FFD700;
      --doré-pâle: rgba(212, 175, 55, 0.2);
      --sang: #8B0000;
    }

    /* ===== Base ===== */
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Marcellus SC', serif;
      background-color: #0a0a0a;
      color: white;
      overflow-x: hidden;
      position: relative;
      /* Image de fond plus visible */
      background-image: url('https://i.pinimg.com/736x/5b/39/31/5b3931fa354ae04038650be2003ab3a4.jpg');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      line-height: 1.6;
    }

    /* ===== Fond étoilé animé ===== */
    .stars {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      z-index: -1; /* Derrière l'image de fond */
    }
    .star {
      position: absolute;
      background-color: var(--doré-clair);
      border-radius: 50%;
      animation: twinkle var(--twinkle-duration) infinite ease-in-out;
      opacity: 0;
    }
    @keyframes twinkle {
      0%,100% { opacity: .25; transform: scale(.4); }
      50%      { opacity: 1;   transform: scale(1); }
    }

    /* ===== Overlay sombre pour la lisibilité ===== */
    .overlay {
      background-color: rgba(10,10,10,0.6); /* Plus transparent */
      min-height: 100vh;
      width: 100%;
    }

    /* ===== En‑tête ===== */
    header {
      background: linear-gradient(to bottom, rgba(10,10,10,0.5), rgba(10,10,10,0.3));
      padding: 2rem 1rem;
      text-align: center;
      border-bottom: 3px solid var(--doré-royal);
      box-shadow: 0 0 30px rgba(212,175,55,.3);
      backdrop-filter: blur(2px);
    }
    .logo {
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(2.5rem, 8vw, 4rem);
      background: linear-gradient(to right, var(--doré-royal), var(--doré-clair));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 20px rgba(212,175,55,.5);
      letter-spacing: 2px;
      margin: 0;
      line-height: 1.2;
    }
    .slogan {
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(1.1rem, 3.5vw, 1.6rem);
      color: var(--doré-clair);
      text-shadow: 0 0 10px rgba(212,175,55,.5);
      margin-top: 1rem;
      font-style: italic;
      letter-spacing: 1px;
    }

    /* ===== Sections principales ===== */
    section {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 1.5rem;
      background: rgba(10,10,10,0.5); /* Plus transparent */
      border: 1px solid var(--doré-royal);
      border-radius: 5px;
      box-shadow: 0 0 25px rgba(212,175,55,.2);
      position: relative;
      backdrop-filter: blur(3px);
    }
    section::before {
      content: "";
      position: absolute; top: 0; left: 0; right: 0; height: 3px;
      background: linear-gradient(to right, transparent, var(--doré-royal), transparent);
    }

    /* Animation fade‑in */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(25px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .animate { opacity: 0; animation: fadeIn 1s forwards; }
    .delay-1 { animation-delay: .3s; }
    .delay-2 { animation-delay: .6s; }
    .delay-3 { animation-delay: .9s; }

    /* ===== Bouton royal ===== */
    .btn-royal {
      display: inline-block;
      background: linear-gradient(135deg, var(--doré-royal), var(--doré-clair));
      color: #0a0a0a;
      padding: 0.8rem 1.5rem;
      border-radius: 3px;
      font-family: 'Cinzel Decorative', cursive;
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 1px;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(212,175,55,.5);
      transition: transform .3s, box-shadow .3s;
      position: relative;
      overflow: hidden;
      min-width: 200px;
      text-align: center;
      text-decoration: none;
      margin: 0.5rem 0;
    }
    .btn-royal:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 25px rgba(212,175,55,.8);
    }
    /* Variante transparente */
    .btn-royal.secondary {
      background: transparent;
      color: var(--doré-clair);
      border: 1px solid var(--doré-royal);
    }
    .btn-royal.secondary:hover {
      background: rgba(212,175,55,.1);
    }

    /* ===== Formulaire ===== */
    .form-group { margin-bottom: 1.5rem; }
    label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--doré-clair);
      font-size: 1rem;
      letter-spacing: 1px;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.8rem;
      background: rgba(10,10,10,0.6);
      border: 1px solid var(--doré-royal);
      color: #fff;
      font-family: 'Marcellus SC', serif;
      font-size: 1rem;
      border-radius: 3px;
      transition: border-color .3s, box-shadow .3s;
    }
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--doré-clair);
      box-shadow: 0 0 12px rgba(212,175,55,.3);
    }
    select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23D4AF37'%3e%3cpath d='M7 10l5 5 5-5z' /%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 0.7rem center;
      background-size: 1.2em auto;
    }
    select[multiple] {
      height: auto;
      padding: 0.5rem;
    }
    select[multiple] option {
      padding: 0.5rem;
      margin: 0.2rem 0;
      background: #0a0a0a;
    }
    .phone-input {
      display: flex;
      align-items: center;
    }
    .phone-input .country-code-input {
      flex: 0 0 100px;
      margin-right: 10px;
    }
    .phone-input input {
      flex: 1;
    }

    /* ===== Liste des inscriptions ===== */
    .inscriptions-list {
      display: grid; 
      gap: 1.5rem;
      grid-template-columns: repeat(auto-fill,minmax(250px,1fr));
      margin-top: 1.5rem;
    }
    .inscription-card {
      background: rgba(20, 20, 20, 0.4);
      border: 1px solid var(--doré-royal);
      padding: 1.2rem;
      border-radius: 5px;
      backdrop-filter: blur(2px);
    }
    .inscription-name {
      font-family: 'Cinzel Decorative', cursive;
      color: var(--doré-clair);
      font-size: 1.2rem;
      margin: 0 0 0.5rem 0;
    }
    .inscription-detail { 
      font-size: 0.9rem; 
      margin-bottom: 0.3rem;
      word-break: break-word;
    }
    .inscription-detail strong {
      color: var(--doré-clair);
    }

    /* ===== Pied de page ===== */
    footer {
      background: linear-gradient(to top, rgba(10,10,10,0.5), rgba(10,10,10,0.3));
      text-align: center;
      padding: 2rem 1rem;
      border-top: 3px solid var(--doré-royal);
      margin-top: 3rem;
      backdrop-filter: blur(2px);
    }
    .social-links { 
      margin-bottom: 1.5rem;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .social-links a {
      color: var(--doré-clair);
      font-size: 1.5rem;
      transition: transform .3s, color .3s, text-shadow .3s;
      display: inline-block;
    }
    .social-links a:hover {
      transform: translateY(-4px);
      color: #fff;
      text-shadow: 0 0 14px var(--doré-clair);
    }
    .copyright {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.7);
    }

    /* ===== Messages d'erreur ===== */
    .error-message {
      color: #ff6b6b;
      font-size: 0.85rem;
      margin-top: 0.3rem;
      display: none;
    }
    .input-error {
      border-color: #ff6b6b !important;
    }

    /* ===== Audio Player ===== */
    .audio-controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      background: rgba(10,10,10,0.7);
      padding: 10px;
      border-radius: 50%;
      border: 1px solid var(--doré-royal);
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 0 15px rgba(212,175,55,0.5);
    }
    .audio-controls i {
      color: var(--doré-clair);
      font-size: 1.5rem;
    }

    /* ===== Responsive ===== */
    @media (max-width: 600px) {
      section {
        padding: 1.2rem;
        margin: 1.5rem 0.8rem;
      }
      .btn-container {
        flex-direction: column;
      }
      .btn-royal {
        width: 100%;
        min-width: unset;
      }
      .inscriptions-list {
        grid-template-columns: 1fr;
      }
      .phone-input .country-code-input {
        flex: 0 0 80px;
      }
    }
  </style>
</head>
<body>
  <!-- Fond étoilé -->
  <div class="stars" id="stars"></div>
  <div class="overlay">

    <!-- Contrôle audio -->
    <div class="audio-controls" id="audioControls" title="Musique de fond">
      <i class="fas fa-music"></i>
    </div>
    <audio id="backgroundMusic" loop>
      <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
      Votre navigateur ne supporte pas l'élément audio.
    </audio>

    <!-- === En-tête === -->
    <header class="animate">
      <h1 class="logo">Yacht Shiniblood</h1>
      <p class="slogan">Le cercle privé des élus de l'ombre et du velours marin</p>
    </header>

    <!-- === Accueil === -->
    <section id="accueil" class="animate delay-1">
      <div class="welcome-message">
        <p>Nobles visiteurs, soyez les bienvenus à bord du Yacht Shiniblood, vaisseau des âmes distinguées et des cœurs audacieux. Ici, entre velours et sang, s'écrit chaque soir une nouvelle page de notre légende.</p>
        <p>Dans ce sanctuaire flottant où l'élégance épouse l'aventure, chaque passager devient acteur d'une réalité parallèle. Que vous soyez duelliste des Cartes Sanguines, esprit brillant des Quiz Nocturnes ou prince(esse) des RP Élégants, votre place vous attend.</p>
        <p>Le yacht hissera ses voiles à la prochaine pleine lune. Inscrivez-vous au Registre Royal pour recevoir votre invitation personnelle.</p>
      </div>
      <div class="action-buttons" style="display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;margin-top:2rem;">
        <button id="btnInscription" class="btn-royal">
          <i class="fas fa-feather-alt"></i> S'inscrire au Registre
        </button>
        <a href="https://chat.whatsapp.com/EuNH7QM3K8qCFZZBPN84XG" target="_blank" class="btn-royal secondary">
          <i class="fab fa-whatsapp"></i> Embarquer dans le Yacht
        </a>
      </div>
    </section>

    <!-- === Formulaire d'inscription === -->
    <section id="inscription" style="display:none;">
      <h2 style="text-align:center; color: var(--doré-clair);">🌹✨ Registre Royal ✨🌹</h2>
      <form id="inscriptionForm">
        <div class="form-group">
          <label for="date">🗓 Date d'enregistrement :</label>
          <input type="date" id="date" required />
          <div class="error-message" id="date-error">Veuillez sélectionner une date valide</div>
        </div>
        <div class="form-group">
          <label for="heure">⏰ Heure exacte :</label>
          <input type="time" id="heure" required />
          <div class="error-message" id="heure-error">Veuillez sélectionner une heure valide</div>
        </div>
        <div class="form-group">
          <label for="pseudo">👑 Identité (Pseudo) :</label>
          <input type="text" id="pseudo" placeholder="Votre nom à bord" required />
          <div class="error-message" id="pseudo-error">Veuillez entrer votre pseudo</div>
        </div>
        <div class="form-group">
          <label for="telephone">📱 Numéro de téléphone :</label>
          <div class="phone-input">
            <select id="country-code" class="country-code-input" required>
              <option value="">Code pays</option>
              <<option value="+93">Afghanistan (+93)</option>
  <option value="+20">Égypte (+20)</option>
  <option value="+211">Soudan du Sud (+211)</option>
  <option value="+212">Maroc (+212)</option>
  <option value="+213">Algérie (+213)</option>
  <option value="+216">Tunisie (+216)</option>
  <option value="+218">Libye (+218)</option>
  <option value="+220">Gambie (+220)</option>
  <option value="+221">Sénégal (+221)</option>
  <option value="+222">Mauritanie (+222)</option>
  <option value="+223">Mali (+223)</option>
  <option value="+224">Guinée (+224)</option>
  <option value="+225">Côte d'Ivoire (+225)</option>
  <option value="+226">Burkina Faso (+226)</option>
  <option value="+227">Niger (+227)</option>
  <option value="+228">Togo (+228)</option>
  <option value="+229">Bénin (+229)</option>
  <option value="+230">Maurice (+230)</option>
  <option value="+231">Liberia (+231)</option>
  <option value="+232">Sierra Leone (+232)</option>
  <option value="+233">Ghana (+233)</option>
  <option value="+234">Nigeria (+234)</option>
  <option value="+235">Tchad (+235)</option>
  <option value="+236">Centrafrique (+236)</option>
  <option value="+237">Cameroun (+237)</option>
  <option value="+238">Cap-Vert (+238)</option>
  <option value="+239">São Tomé-et-Príncipe (+239)</option>
  <option value="+240">Guinée équatoriale (+240)</option>
  <option value="+241">Gabon (+241)</option>
  <option value="+242">Congo (+242)</option>
  <option value="+243">Congo RDC (+243)</option>
  <option value="+244">Angola (+244)</option>
  <option value="+245">Guinée-Bissau (+245)</option>
  <option value="+246">Terres australes françaises (+246)</option>
  <option value="+247">Îles Malouines (+247)</option>
  <option value="+248">Seychelles (+248)</option>
  <option value="+249">Soudan (+249)</option>
  <option value="+250">Rwanda (+250)</option>
  <option value="+251">Éthiopie (+251)</option>
  <option value="+252">Somalie (+252)</option>
  <option value="+253">Djibouti (+253)</option>
  <option value="+254">Kenya (+254)</option>
  <option value="+255">Tanzanie (+255)</option>
  <option value="+256">Ouganda (+256)</option>
  <option value="+257">Burundi (+257)</option>
  <option value="+258">Mozambique (+258)</option>
  <option value="+260">Zambie (+260)</option>
  <option value="+261">Madagascar (+261)</option>
  <option value="+262">La Réunion (+262)</option>
  <option value="+263">Zimbabwe (+263)</option>
  <option value="+264">Namibie (+264)</option>
  <option value="+265">Malawi (+265)</option>
  <option value="+266">Lesotho (+266)</option>
  <option value="+267">Botswana (+267)</option>
  <option value="+268">Swaziland (+268)</option>
  <option value="+269">Comores (+269)</option>
  <option value="+290">Îles Santaines (+290)</option>
  <option value="+291">Érythrée (+291)</option>
  <option value="+297">Aruba (+297)</option>
  <option value="+298">Îles Féroé (+298)</option>
  <option value="+299">Groenland (+299)</option>

  <!-- Amérique -->
  <option value="+1">États-Unis (+1)</option>
  <option value="+1242">Bahamas (+1242)</option>
  <option value="+1246">Barbade (+1246)</option>
  <option value="+1264">Anguilla (+1264)</option>
  <option value="+1268">Antigua-et-Barbuda (+1268)</option>
  <option value="+1473">Grenade (+1473)</option>
  <option value="+1649">Turks-et-Caicos (+1649)</option>
  <option value="+1664">Montserrat (+1664)</option>
  <option value="+1670">Guam (+1670)</option>
  <option value="+1684">Îles Vierges (+1684)</option>
  <option value="+1758">Saint-Lucie (+1758)</option>
  <option value="+1784">Saint-Christophe-et-Niévès (+1784)</option>
  <option value="+1809">République dominicaine (+1809)</option>
  <option value="+1849">République dominicaine (+1849)</option>
  <option value="+1868">Trinité-et-Tobago (+1868)</option>
  <option value="+1939">Puerto Rico (+1939)</option>
  <option value="+1">Canada (+1)</option>
  
  <!-- Amérique du Sud -->
  <option value="+54">Argentine (+54)</option>
  <option value="+591">Bolivie (+591)</option>
  <option value="+592">Guyana (+592)</option>
  <option value="+593">Équateur (+593)</option>
  <option value="+595">Paraguay (+595)</option>
  <option value="+56">Chili (+56)</option>
  <option value="+57">Colombie (+57)</option>
  
  <!-- Europe -->
  <option value="+20">Égypte (+20)</option>
  <option value="+30">Grèce (+30)</option>
  <option value="+31">Pays-Bas (+31)</option>
  <option value="+32">Belgique (+32)</option>
  <option value="+33">France (+33)</option>
  <option value="+34">Espagne (+34)</option>
  <option value="+39">Italie (+39)</option>
  <option value="+355">Albanie (+355)</option>
  <option value="+44">Royaume-Uni (+44)</option>
  <option value="+49">Allemagne (+49)</option>
  <option value="+351">Portugal (+351)</option>
  <option value="+358">Finlande (+358)</option>
  <option value="+44">Royaume-Uni (+44)</option>
  <option value="+420">République tchèque (+420)</option>
  <option value="+45">Danemark (+45)</option>
  <option value="+46">Suède (+46)</option>
  <option value="+48">Pologne (+48)</option>
  <option value="+353">Irlande (+353)</option>
  
  <!-- Asie -->
  <option value="+7">Russie (+7)</option>
  <option value="+81">Japon (+81)</option>
  <option value="+82">Corée du Sud (+82)</option>
  <option value="+86">Chine (+86)</option>
  <option value="+91">Inde (+91)</option>
  <option value="+92">Pakistan (+92)</option>
  <option value="+66">Thaïlande (+66)</option>
  <option value="+84">Vietnam (+84)</option>
  <option value="+855">Cambodge (+855)</option>
  <option value="+880">Bangladesh (+880)</option>
  <option value="+853">Macau (+853)</option>
  <option value="+960">Maldives (+960)</option>
  <option value="+961">Liban (+961)</option>
  <option value="+962">Jordanie (+962)</option>
  <option value="+963">Syrie (+963)</option>
  <option value="+964">Irak (+964)</option>
  <option value="+965">Koweït (+965)</option>
  <option value="+966">Arabie Saoudite (+966)</option>
  <option value="+967">Yémen (+967)</option>
  <option value="+968">Oman (+968)</option>
  <option value="+970">Palestine (+970)</option>
  <option value="+971">Émirats Arabes Unis (+971)</option>
  <option value="+972">Israël (+972)</option>
  <option value="+974">Qatar (+974)</option>
  <option value="+975">Bhoutan (+975)</option>
  <option value="+976">Mongolie (+976)</option>
  <option value="+977">Népal (+977)</option>

  <!-- Océanie -->
  <option value="+61">Australie (+61)</option>
  <option value="+672">Territoires australiens (+672)</option>
  <option value="+679">Fidji (+679)</option>
  <option value="+680">Palaos (+680)</option>
  <option value="+681">Wallis-et-Futuna (+681)</option>
  <option value="+682">Îles Cook (+682)</option>
  <option value="+683">Niue (+683)</option>
  <option value="+685">Samoa (+685)</option>
  <option value="+687">Nouvelle-Calédonie (+687)</option>
  <option value="+689">Îles Wallis (+689)</option>
              <option value="other">Autre</option>
            </select>
            <input type="tel" id="telephone" placeholder="Numéro sans l'indicatif" required />
          </div>
          <div class="error-message" id="telephone-error">Veuillez sélectionner un code pays et entrer un numéro valide (9-15 chiffres)</div>
        </div>
        <div class="form-group">
          <label for="fonction">💼 Fonction à bord :</label>
          <input type="text" id="fonction" placeholder="Votre rôle dans la communauté" />
        </div>
        <div class="form-group">
          <label for="divertissements">🎮 Divertissements préférés :</label>
          <select id="divertissements" multiple>
            <option value="rp-elegante">RP Réalité Élégante</option>
            <option value="rp-aventure">RP Aventures Nobles</option>
            <option value="cartes">Cartes Sanguines (Blood Game)</option>
            <option value="quizz">Duel d'Esprits (Quizz)</option>
          </select>
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <button type="submit" class="btn-royal"><i class="fas fa-scroll"></i> Signer le Registre</button>
        </div>
      </form>
    </section>

    <!-- === Registre des inscriptions === -->
    <section class="animate delay-2">
      <h2 style="text-align:center; color: var(--doré-clair);">📜 Registre des Élus</h2>
      <p style="text-align:center;">Derniers nobles à avoir rejoint notre communauté :</p>
      <div id="inscriptionsList" class="inscriptions-list"></div>
    </section>

    <!-- === Pied de page === -->
    <footer class="animate delay-3">
      <div class="social-links">
        <a href="https://chat.whatsapp.com/EuNH7QM3K8qCFZZBPN84XG" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-discord"></i></a>
      </div>
      <p class="copyright">© 2025 Yacht Shiniblood – Royaume des Élus de l'Ombre</p>
    </footer>

  </div><!-- overlay end -->

  <!-- ===== Scripts ===== -->
  <script>

    /* ========= Création dynamique des étoiles ========= */
    (function createStars(){
      const starsContainer = document.getElementById('stars');
      const TOTAL = 120;
      for(let i = 0; i < TOTAL; i++){
        const star = document.createElement('div');
        star.className = 'star';
        const size = Math.random() * 2 + 0.5;
        star.style.width = size + 'px';
        star.style.height = size + 'px';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.setProperty('--twinkle-duration', (3 + Math.random() * 5) + 's');
        star.style.animationDelay = (Math.random() * 5) + 's';
        starsContainer.appendChild(star);
      }
    })();

    /* ========= Variables pour l'affichage progressif ========= */
    let displayedCount = 3; // Nombre initial d'inscriptions à afficher
    const increment = 3; // Nombre d'inscriptions supplémentaires à afficher

    /* ========= Navigation Accueil -> Formulaire ========= */
    document.getElementById('btnInscription').addEventListener('click', () => {
      document.getElementById('accueil').style.display = 'none';
      document.getElementById('inscription').style.display = 'block';
      window.scrollTo({top: 0, behavior: 'smooth'});
    });

    /* ========= Validation du formulaire ========= */
    function validateForm() {
      let isValid = true;
      
      // Validation de la date
      const dateInput = document.getElementById('date');
      if (!dateInput.value) {
        document.getElementById('date-error').style.display = 'block';
        dateInput.classList.add('input-error');
        isValid = false;
      } else {
        document.getElementById('date-error').style.display = 'none';
        dateInput.classList.remove('input-error');
      }
      
      // Validation de l'heure
      const heureInput = document.getElementById('heure');
      if (!heureInput.value) {
        document.getElementById('heure-error').style.display = 'block';
        heureInput.classList.add('input-error');
        isValid = false;
      } else {
        document.getElementById('heure-error').style.display = 'none';
        heureInput.classList.remove('input-error');
      }
      
      // Validation du pseudo
      const pseudoInput = document.getElementById('pseudo');
      if (!pseudoInput.value.trim()) {
        document.getElementById('pseudo-error').style.display = 'block';
        pseudoInput.classList.add('input-error');
        isValid = false;
      } else {
        document.getElementById('pseudo-error').style.display = 'none';
        pseudoInput.classList.remove('input-error');
      }

      // Validation du téléphone
      const telephoneInput = document.getElementById('telephone');
      if (!telephoneInput.value.trim()) {
        document.getElementById('telephone-error').style.display = 'block';
        telephoneInput.classList.add('input-error');
        isValid = false;
      } else {
        document.getElementById('telephone-error').style.display = 'none';
        telephoneInput.classList.remove('input-error');
      }

      return isValid;
    }

    /* ========= Gestion formulaire ========= */
    document.getElementById('inscriptionForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      if (!validateForm()) return;
      
      const countryCode = document.getElementById('country-code').value;
      const phoneNumber = document.getElementById('telephone').value.trim();
      const fullPhoneNumber = countryCode + phoneNumber;
      
      const formData = {
        date: document.getElementById('date').value,
        heure: document.getElementById('heure').value,
        pseudo: document.getElementById('pseudo').value.trim(),
        telephone: fullPhoneNumber,
        fonction: document.getElementById('fonction').value.trim(),
        divertissements: Array.from(document.getElementById('divertissements').selectedOptions).map(function(o) { return o.value; }),
        timestamp: new Date().toISOString()
      };

      try {
        // Sauvegarde locale
        const key = 'shinibloodInscriptions';
     const localInscriptions = JSON.parseJSON.parse(localStorage.getItem(key))|| '[]';
        const allInscriptions = Array.isArray(localInscriptions) ? localInscriptions : [];
        allInscriptions.unshift(formData);
        localStorage.setItem(key, JSON.stringify(allInscriptions));

        /* ---- Construction du message WhatsApp ---- */
        const message = `✨ *Nouvelle inscription Yacht Shiniblood* ✨\n\n` +
                      `👑 *Pseudo*: ${formData.pseudo}\n` +
                      `📱 *Téléphone*: ${formData.telephone}\n` +
                      `🗓 *Date*: ${formData.date} à ${formData.heure}\n` +
                      `💼 *Fonction*: ${formData.fonction || 'Non spécifié'}\n` +
                      `🎮 *Divertissements*: ${formData.divertissements.join(', ') || 'Aucun'}\n\n` +
                      `_Bienvenue à bord, noble invité._`;

        // Numéros WhatsApp à notifier (sans le +)
        const numeros = ['22896397239', '242040257484', '242066944791'];
        
        // Ouvrir les chats WhatsApp pour chaque numéro
        numeros.forEach(function(num) {
          window.open(`https://wa.me/${num}?text=${encodeURIComponent(message)}`, '_blank');
        });
        
        // Ouvrir aussi le groupe WhatsApp
        window.open('https://chat.whatsapp.com/EuNH7QM3K8qCFZZBPN84XG', '_blank');

        /* ---- Fenêtre de confirmation ---- */
        document.body.insertAdjacentHTML('beforeend', `
          <div style="position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;z-index:3000;padding:1rem;">
            <div style="background:linear-gradient(135deg,rgba(20,20,20,0.97),rgba(10,10,10,0.99));padding:2rem;border:2px solid var(--doré-royal);border-radius:5px;box-shadow:0 0 40px rgba(212,175,55,0.7);max-width:100%;width:500px;text-align:center;">
              <h3 style="color:var(--doré-clair);font-family:'Cinzel Decorative',cursive;margin-top:0;font-size:1.5rem;">🌹 Enregistrement Confirmé 🌹</h3>
              <p style="font-size:1rem;margin-bottom:1rem;">Bienvenue à bord, <span style="color:var(--doré-clair);font-weight:bold;">${formData.pseudo}</span> !</p>
              <p style="margin-bottom:1rem;">Votre invitation pour le <span style="color:var(--doré-clair);">${formData.date}</span> à <span style="color:var(--doré-clair);">${formData.heure}</span> est enregistrée.</p>
              <p style="margin-top:1rem;font-style:italic;font-size:0.9rem;">Un message a été envoyé aux maîtres de cérémonie.</p>
              <button onclick="this.parentElement.parentElement.remove();location.reload();" class="btn-royal" style="margin-top:1.5rem;">
                Parfait
              </button>
            </div>
          </div>`);

        // Mettre à jour la liste des inscriptions
        updateInscriptionsList();
        
        // Sauvegarder le nombre d'inscriptions affichées
        localStorage.setItem('lastDisplayedCount', displayedCount.toString());
      } catch (error) {
        console.error('Erreur:', error);
        alert("Une erreur est survenue lors de l'enregistrement. Veuillez réessayer.");
      }
    });

    /* ========= Affichage des inscriptions ========= */
    function updateInscriptionsList() {
      const container = document.getElementById('inscriptionsList');
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      const inscriptions = JSON.parse(localStorage.getItem('shinibloodInscriptions') || '[]');
      
      container.innerHTML = '';
      
      if (inscriptions.length === 0) {
        container.innerHTML = '<p style="text-align:center;grid-column:1/-1;">Aucune inscription pour le moment</p>';
        if (loadMoreBtn) loadMoreBtn.style.display = 'none';
        return;
      }
      
      // Afficher seulement les X premières inscriptions
      const inscriptionsToShow = inscriptions.slice(0, displayedCount);
      
      inscriptionsToShow.forEach(function(item) {
        const card = document.createElement('div');
        card.className = 'inscription-card';
        card.innerHTML = `
          <h3 class="inscription-name">${item.pseudo}</h3>
          <p class="inscription-detail"><strong>Date :</strong> ${item.date} à ${item.heure}</p>
          ${item.fonction ? `<p class="inscription-detail"><strong>Fonction :</strong> ${item.fonction}</p>` : ''}
          ${item.divertissements && item.divertissements.length > 0 ? `<p class="inscription-detail"><strong>Activités :</strong> ${item.divertissements.join(', ')}</p>` : ''}
          <p class="inscription-detail"><small>Inscrit le ${new Date(item.timestamp).toLocaleString('fr-FR')}</small></p>`;
        container.appendChild(card);
      });
      
      // Afficher le bouton "Voir plus" s'il reste des inscriptions à afficher
      if (loadMoreBtn) {
        if (inscriptions.length > displayedCount) {
          loadMoreBtn.style.display = 'inline-block';
        } else {
          loadMoreBtn.style.display = 'none';
        }
      }
    }

    /* ========= Charger plus d'inscriptions ========= */
    document.getElementById('loadMoreBtn')?.addEventListener('click', function() {
      const inscriptions = JSON.parse(localStorage.getItem('shinibloodInscriptions') || '[]');
      displayedCount = Math.min(displayedCount + increment, inscriptions.length);
      updateInscriptionsList();
    });

    /* ========= Vérifier et afficher les nouvelles inscriptions au chargement ========= */
    function checkNewInscriptions() {
      const lastDisplayedCount = parseInt(localStorage.getItem('lastDisplayedCount') || '3');
      const inscriptions = JSON.parse(localStorage.getItem('shinibloodInscriptions') || '[]');
      
      // Si de nouvelles inscriptions sont arrivées, réinitialiser le compteur
      if (inscriptions.length > lastDisplayedCount) {
        displayedCount = 3;
        localStorage.setItem('lastDisplayedCount', '3');
      } else {
        displayedCount = lastDisplayedCount;
      }
      
      updateInscriptionsList();
    }

    /* ========= Initialisation ========= */
    window.addEventListener('DOMContentLoaded', function() {
      // Date min = aujourd'hui
      document.getElementById('date').min = new Date().toISOString().split('T')[0];
      
      // Charger les inscriptions avec la nouvelle logique
      checkNewInscriptions();
      
      // Démarrer les animations fade‑in
      document.querySelectorAll('.animate').forEach(function(el, i) {
        setTimeout(function() { el.style.opacity = 1; }, 150 * i);
      });
      
      // Validation en temps réel
      document.getElementById('date').addEventListener('change', validateForm);
      document.getElementById('heure').addEventListener('change', validateForm);
      document.getElementById('pseudo').addEventListener('input', validateForm);
      document.getElementById('country-code').addEventListener('change', validateForm);
      document.getElementById('telephone').addEventListener('input', validateForm);

      // Gestion audio
      const audio = document.getElementById('backgroundMusic');
      const audioControls = document.getElementById('audioControls');
      audioControls.addEventListener('click', function() {
        if (audio.paused) {
          audio.play();
          audioControls.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
          audio.pause();
          audioControls.innerHTML = '<i class="fas fa-music"></i>';
        }
      });
    });
  </script>
</body>
</html>
    
  